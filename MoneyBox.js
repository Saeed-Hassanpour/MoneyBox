/* Parto Pardazesh Fartak(IRANAPEX) | Saeed Hassanpour
 2016/06 * Build:http://www.iranapex.ir - MoneyBox */
var ch1money_001=true;var ch2money_0001=false;var sTagmoneyspan="<span style=color:#FF2D55>";var eTagmoneyspan="</span";function valueChange(contentId){var isDataValid=false;var contentControl=document.getElementById(contentId);if(contentControl){isDataValid=checkContentValidation(contentId)}if(isDataValid){showInformationText(contentControl.value,categoryTextId(contentId,2),categoryTextId(contentId,3))}else{hideInformationText(categoryTextId(contentId,2),categoryTextId(contentId,3),false)}}function contentKeyUp(contentId){var isDataValid=false;isDataValid=checkContentValidation(contentId);var contentControl=document.getElementById(contentId);if(isDataValid){showInformationText(contentControl.value,categoryTextId(contentId,2),categoryTextId(contentId,3))}else{hideInformationText(categoryTextId(contentId,2),categoryTextId(contentId,3),false)}}function hideInformationText(separatedTextId,tomanTextId,isCheckNodeName){var separatedTextControl=document.getElementById(separatedTextId);if(separatedTextControl){if(!isCheckNodeName||separatedTextControl.nodeName.toLowerCase()!="label"){separatedTextControl.innerHTML="";separatedTextControl.style.display='none'}}var tomanTextControl=document.getElementById(tomanTextId);if(tomanTextControl){if(!isCheckNodeName||tomanTextControl.nodeName.toLowerCase()!="label"){tomanTextControl.innerHTML="";tomanTextControl.style.display='none'}}}function showInformationText(text,separatedTextId,tomanTextId){var separatedTextControl=document.getElementById(separatedTextId);var tomanTextControl=document.getElementById(tomanTextId);showToman(text,tomanTextControl);showSeparatedText(text,separatedTextControl)}function showToman(text,tomanTextControl){if(text){var number=Math.floor(parseInt(text)/10);var remain=parseInt(text)%10;if(tomanTextControl){tomanTextControl.innerHTML="";if(number>0){var toman=convertNumberToPersianString(number.toString());tomanTextControl.innerHTML=toman+sTagmoneyspan+" تومان"+eTagmoneyspan}if(remain>0){if(number>0){tomanTextControl.innerHTML+=" و "}tomanTextControl.innerHTML+=convertNumberToPersianString(remain.toString())+sTagmoneyspan+" ریال"+eTagmoneyspan}tomanTextControl.style.display='block'}}}function showSeparatedText(text,separatedTextControl){if(text){text=separateText(text);if(separatedTextControl){separatedTextControl.innerHTML=text;separatedTextControl.style.display='block'}}}function getRegularLen(itemName){var txtLen=document.getElementById(itemName).maxLength;var moneyreqularExp="/^([1-9][0-9]{0,"+txtLen+"}|)$/";return moneyreqularExp}function categoryTextId(itemName,idType){var textId=itemName.toLowerCase();switch(idType){case 1:textId+="_show_money";break;case 2:textId+="_show_money_separated";break;case 3:textId+="_show_money_text";break}return textId}function separateText(text){var separator=",";var regexp=new RegExp("\\B(\\d{3})("+separator+"|$)");do{text=text.replace(regexp,separator+"$1")}while(text.search(regexp)>=0)return text+sTagmoneyspan+" ریال"+eTagmoneyspan}function focusPlaceHolder(contentId,placeHolderId){displayContent(contentId,placeHolderId)}function focusContent(contentId){var contentControl=document.getElementById(contentId);var isDataValid=false;isDataValid=checkContentValidation(contentId);if(contentControl&&contentControl.value&&isDataValid){showInformationText(contentControl.value,categoryTextId(contentId,2),categoryTextId(contentId,3))}}function blurContent(contentId){var contentControl=document.getElementById(contentId);var isDataValid=false;if(contentControl){isDataValid=checkContentValidation(contentId);if(isDataValid&&categoryTextId(contentId,2)){var separatedTextControl=document.getElementById(categoryTextId(contentId,2));showSeparatedText(contentControl.value,separatedTextControl)}hideInformationText(categoryTextId(contentId,2),categoryTextId(contentId,3),true)}}function checkContentValidation(contentId){var isDataValid=true;var isRequired="false";var control=document.getElementById(categoryTextId(contentId,1));if(control){isRequired=control.getAttribute("isRequired")}var contentControl=document.getElementById(contentId);if(contentControl){contentControl.removeAttribute("title");if(contentControl.value){var regularExpression=getRegularLen(contentId);if(eval(regularExpression).test(contentControl.value)){isDataValid=true}else{isDataValid=false}}else{if(isRequired.toLowerCase()!="true"){isDataValid=true}else{isDataValid=false}}}return isDataValid}function convertNumberToPersianString(number){var base=["","هزار","میلیون","میلیارد","تریلیون"];var result="";if(number=="0"){return"صفر"}else{var remain=number.length%3;if(remain>0){for(var i=0;i<3-remain;i++){number='0'+number}}var count=number.length/3;for(var i=0;i<count;i++){var subNumber=parseInt(number.substring(i*3,(i*3)+3));if(subNumber!=0){result=result+convertThreeDigitNumberToPersianString(subNumber)+" "+base[count-1-i]+" و "}}result=result.substring(0,result.length-3)}return result}function convertThreeDigitNumberToPersianString(number){var yekan=["صفر","یک","دو","سه","چهار","پنج","شش","هفت","هشت","نه"];var dahgan=["","","بیست","سی","چهل","پنجاه","شصت","هفتاد","هشتاد","نود"];var dahyek=["ده","یازده","دوازده","سیزده","چهارده","پانزده","شانزده","هفده","هجده","نوزده"];var sadgan=["","یکصد","دویست","سیصد","چهارصد","پانصد","ششصد","هفتصد","هشتصد","نهصد"];var result="";var digitSadgan,digitDahgan;digitDahgan=number%100;digitSadgan=Math.floor(number/100);if(digitSadgan!=0)result=sadgan[digitSadgan]+" و ";if((digitDahgan>=10)&&(digitDahgan<=19)){result=result+dahyek[digitDahgan-10]}else{var intOfDivide=Math.floor(digitDahgan/10);if(intOfDivide!=0)result=result+dahgan[intOfDivide]+" و ";var remainOfDivide=digitDahgan%10;if(remainOfDivide!=0)result=result+yekan[remainOfDivide]+" و ";result=result.substring(0,result.length-3)}return result}